<template>
  <div class="icons">
    <!-- 首页图标 -->
    <div class="icon" @click="selectIcon('home')" @mouseover="hoverIcon = 'home'" @mouseleave="hoverIcon = null">
      <svg t="1733448707552" viewBox="0 0 1024 1024" version="1.1" :fill="getIconColor('home')" class="icon-svg"
        xmlns="http://www.w3.org/2000/svg" p-id="16954" xmlns:xlink="http://www.w3.org/1999/xlink" width="128"
        height="128">
        <path
          d="M875.733333 573.44a31.786667 31.786667 0 0 1 31.573334 31.786667V853.333333a128 128 0 0 1-126.08 128H264.106667a128 128 0 0 1-126.08-128V605.226667a31.573333 31.573333 0 1 1 64 0V853.333333a64 64 0 0 0 64 64h515.2a64 64 0 0 0 64-64V605.226667a31.573333 31.573333 0 0 1 30.506666-31.786667z m-517.12 15.146667a31.786667 31.786667 0 0 1 31.573334 31.786666v114.133334a31.573333 31.573333 0 1 1-62.933334 0v-114.133334a31.573333 31.573333 0 0 1 31.36-31.786666zM772.906667 42.666667A129.92 129.92 0 0 1 896 131.626667l78.293333 232.32a130.773333 130.773333 0 0 1 2.986667 74.026666A173.653333 173.653333 0 0 1 665.6 494.933333a173.226667 173.226667 0 0 1-285.866667 0 173.653333 173.653333 0 0 1-311.68-56.96 130.773333 130.773333 0 0 1 2.986667-74.026666L149.333333 131.626667A129.92 129.92 0 0 1 272.426667 42.666667z m0 64H272.426667a66.773333 66.773333 0 0 0-64 45.866666L130.773333 384a65.28 65.28 0 0 0-1.706666 37.76 111.146667 111.146667 0 0 0 219.093333-27.946667 31.573333 31.573333 0 1 1 64 0 111.36 111.36 0 1 0 222.72 0A31.786667 31.786667 0 0 1 665.6 362.666667a31.786667 31.786667 0 0 1 31.573333 31.786666A111.146667 111.146667 0 0 0 917.333333 422.186667a65.28 65.28 0 0 0-2.773333-38.186667L836.266667 152.106667A66.773333 66.773333 0 0 0 772.906667 106.666667z"
          p-id="16955"></path>
      </svg>
      <div class="tips">首页</div>
    </div>

    <!-- 资源图标 -->
    <div class="icon" @click="selectIcon('resources')" @mouseover="hoverIcon = 'resources'"
      @mouseleave="hoverIcon = null">
      <svg t="1733448762762" viewBox="0 0 1024 1024" version="1.1" :fill="getIconColor('resources')" class="icon-svg"
        xmlns="http://www.w3.org/2000/svg" p-id="10734" xmlns:xlink="http://www.w3.org/1999/xlink" width="128"
        height="128">
        <path
          d="M895.3 472.4l-91.6-269c-8.8-25.9-33.2-43.4-60.6-43.4H280.8c-27.4 0-51.7 17.4-60.6 43.3l-91.5 268c-9.1 26.6-13.7 54.6-13.7 82.7v246c0 35.3 28.7 64 64 64h666c35.3 0 64-28.7 64-64V554.9c0-28.1-4.6-56-13.7-82.5zM280.8 224h462.4l91.6 269c2.2 6.4 4 12.8 5.5 19.4L640 512c0 70.7-57.3 128-128 128s-128-57.3-128-128l-200.3-0.3c1.5-6.6 3.3-13.2 5.6-19.6L280.8 224zM845 800H179V575.7l151.9 0.2c1.3 3.6 2.7 7.3 4.2 10.8 9.7 22.9 23.5 43.4 41.1 61s38.1 31.4 61 41.1c23.7 10 48.9 15.1 74.8 15.1s51-5.1 74.8-15.1c22.9-9.7 43.4-23.5 61-41.1s31.4-38.1 41.1-61c1.5-3.5 2.9-7.1 4.1-10.7l152 0.3V800z"
          p-id="10735"></path>
        <path
          d="M332 458s0.1 0 0 0l360.1-1c17.7 0 32-14.2 31.9-31.6 0-17.4-14.4-31.4-32-31.4h-0.1l-360 1c-17.7 0-32 14.2-31.9 31.6 0 17.4 14.4 31.4 32 31.4zM412 352s0.1 0 0 0l200.1-1c17.7 0 32-14.2 31.9-31.6 0-17.4-14.4-31.4-32-31.4h-0.1l-200 1c-17.7 0-32 14.2-31.9 31.6 0 17.4 14.4 31.4 32 31.4z"
          p-id="10736"></path>
      </svg>
      <div class="tips">资源</div>
    </div>

    <!-- 会话图标 -->
    <div class="icon" @click="selectIcon('session')" @mouseover="hoverIcon = 'session'" @mouseleave="hoverIcon = null">
      <svg t="1733448411702" viewBox="0 0 1072 1024" version="1.1" :fill="getIconColor('session')" class="icon-svg"
        xmlns="http://www.w3.org/2000/svg" p-id="9093" width="134" height="128"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <path
          d="M536.385079 1023.999934a41.299041 41.299041 0 0 1-29.174752-12.01506L383.433356 889.136339a40.70921 40.70921 0 0 1 0-57.890747 41.430114 41.430114 0 0 1 58.338581 0l94.613142 93.935929 94.613142-93.935929a41.233504 41.233504 0 0 1 29.174752-12.015061h288.863905a41.124276 41.124276 0 0 0 41.25535-40.960434v-655.366949a41.157044 41.157044 0 0 0-41.25535-40.960434H123.787894a41.17889 41.17889 0 0 0-41.25535 40.960434v655.366949a41.157044 41.157044 0 0 0 41.25535 40.960434h123.776971a40.960434 40.960434 0 1 1 0 81.920869H123.787894C55.553272 901.1514 0 845.991348 0 778.248252v-655.366949C0 55.138206 55.553272 0.021846 123.787894 0.021846h825.248984c68.245545 0 123.776971 55.127283 123.776971 122.881302v655.366949c0 67.721251-55.531426 122.881303-123.776971 122.881303H677.245282L565.559831 1012.006719a41.299041 41.299041 0 0 1-29.174752 11.993215z"
          p-id="9094"></path>
        <path
          d="M316.957302 536.330465a73.182643 73.182643 0 1 1 73.182643-73.182642 73.182643 73.182643 0 0 1-73.182643 73.182642zM560.76473 536.330465a73.182643 73.182643 0 1 1 73.182642-73.182642 73.182643 73.182643 0 0 1-73.182642 73.182642zM804.572157 536.330465a73.182643 73.182643 0 1 1 73.182643-73.182642 73.182643 73.182643 0 0 1-73.182643 73.182642z"
          p-id="9095"></path>
      </svg>
      <div class="tips">会话</div>
    </div>
    <div class="icon" @click="selectIcon('create')" @mouseover="hoverIcon = 'create'" @mouseleave="hoverIcon = null">
      <svg t="1733755905521" class="icon-svg" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
        :fill="getIconColor('create')" p-id="4319" xmlns:xlink="http://www.w3.org/1999/xlink" width="128" height="128">
        <path
          d="M213.333333 426.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667 0-166.4 132.266667-298.666667 298.666667-298.666667 128 0 243.2 85.333333 285.866667 209.066667C759.466667 315.733333 750.933333 341.333333 725.333333 345.6c-21.333333 8.533333-46.933333-4.266667-55.466667-25.6C644.266667 230.4 563.2 170.666667 469.333333 170.666667 349.866667 170.666667 256 264.533333 256 384 256 409.6 238.933333 426.666667 213.333333 426.666667zM768 768c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667c93.866667 0 170.666667-76.8 170.666667-170.666667s-76.8-170.666667-170.666667-170.666667c-12.8 0-29.866667 0-42.666667 4.266667-21.333333 4.266667-46.933333-8.533333-51.2-29.866667s8.533333-46.933333 29.866667-51.2C725.333333 260.266667 746.666667 256 768 256c140.8 0 256 115.2 256 256S908.8 768 768 768zM341.333333 768 213.333333 768c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l128 0c25.6 0 42.666667 17.066667 42.666667 42.666667S366.933333 768 341.333333 768zM768 768l-85.333333 0c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l85.333333 0c25.6 0 42.666667 17.066667 42.666667 42.666667S793.6 768 768 768zM213.333333 768c-119.466667 0-213.333333-93.866667-213.333333-213.333333s93.866667-213.333333 213.333333-213.333333c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667c-72.533333 0-128 55.466667-128 128s55.466667 128 128 128c25.6 0 42.666667 17.066667 42.666667 42.666667S238.933333 768 213.333333 768zM512 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 469.333333c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 426.666667C554.666667 921.6 537.6 938.666667 512 938.666667zM384 640c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l128-128c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-128 128C405.333333 635.733333 396.8 640 384 640zM640 640c-12.8 0-21.333333-4.266667-29.866667-12.8l-128-128c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l128 128c17.066667 17.066667 17.066667 42.666667 0 59.733333C661.333333 635.733333 652.8 640 640 640z"
          p-id="4320"></path>
      </svg>
      <div class="tips">创建</div>
    </div>
    <div class="icon" @click="selectIcon('person')" @mouseover="hoverIcon = 'person'" @mouseleave="hoverIcon = null">
      <svg t="1733448411702" viewBox="0 0 1072 1024" version="1.1" :fill="getIconColor('person')" class="icon-svg"
        xmlns="http://www.w3.org/2000/svg" p-id="9093" width="134" height="128"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <path
          d="M829.879466 321.668332c0-124.369003-100.822376-225.202082-225.202082-225.202082s-225.202082 100.833079-225.202082 225.202082c0 73.915003 35.769467 139.310408 90.750841 180.377867-127.098271 55.120513-216.083116 181.533792-216.083116 328.903568h0.160546c-0.021406 0.524448-0.160545 1.027489-0.160546 1.551937 0 20.46416 16.77162 37.043126 37.471246 37.043125s37.471246-16.578966 37.471247-37.043125c0-0.524448-0.139139-1.027489-0.160546-1.551937h0.13914c0-156.381713 127.23741-283.629826 283.629826-283.629826v-0.214061c-2.301148 0-4.538077-0.224763-6.817819-0.288981 123.823149-0.652884 224.003345-101.164872 224.003345-225.148567z m-225.202082 150.280996c-82.862721 0-150.280996-67.418275-150.280996-150.280996s67.418275-150.280996 150.280996-150.280996 150.280996 67.418275 150.280995 150.280996-67.418275 150.280996-150.280995 150.280996zM955.21174 830.949767c0-109.812906-49.480026-207.959529-127.237411-273.697431l-0.21406 0.224763a37.471246 37.471246 0 0 0-22.66898-7.716872c-20.699626 0-37.471246 16.578966-37.471246 37.02172 0 10.724418 4.687919 20.314317 12.072998 27.067918l-0.32109 0.374606c61.68146 52.048749 100.918703 129.881054 100.918703 216.714593h0.139139c-0.021406 0.524448-0.160545 1.027489-0.160545 1.551937 0 20.46416 16.77162 37.043126 37.471246 37.043125s37.471246-16.578966 37.471246-37.043125c0-0.524448-0.139139-1.027489-0.160545-1.551937h0.160545z"
          p-id="6821"></path>
        <path
          d="M360.381128 512v-74.921086c-61.970441 0-112.381629-50.421891-112.38163-112.381629s50.411188-112.381629 112.38163-112.38163v-0.663587c17.488722-3.168092 30.77116-18.398478 30.77116-36.796956s-13.282438-33.628865-30.77116-36.796956v-0.663587c-1.509125 0-2.954031 0.192654-4.452454 0.224763-0.749211-0.053515-1.477016-0.224763-2.236929-0.224763-2.301148 0-4.527374 0.278278-6.710789 0.663587-97.161946 6.903443-173.902544 87.711186-173.902544 186.639129 0 57.036353 25.580199 108.036206 65.791417 142.382172-91.264586 44.90984-154.091268 138.796664-154.091268 247.389427a37.460543 37.460543 0 1 0 74.921086 0c0-110.658444 90.023037-200.681481 200.681481-200.681481v-1.787403z"
          p-id="6822"></path>
      </svg>
      <div class="tips">个人中心</div>
    </div>


    <!-- 工具图标 -->
    <div class="icon bottom" @click="selectIcon('tools')" @mouseover="hoverIcon = 'tools'"
      @mouseleave="hoverIcon = null">
      <svg t="1733448658047" viewBox="0 0 1024 1024" version="1.1" :fill="getIconColor('tools')" class="icon-svg"
        xmlns="http://www.w3.org/2000/svg" p-id="9491" xmlns:xlink="http://www.w3.org/1999/xlink" width="128"
        height="128">
        <path
          d="M367.104 473.088H151.552c-56.832 0-103.424-46.592-103.424-103.424v-215.04C48.64 97.792 94.72 51.2 151.552 51.2h215.552c56.832 0 103.424 46.592 103.424 103.424v215.552c0 56.832-46.592 102.912-103.424 102.912zM151.552 104.96c-27.136 0-49.664 22.016-49.664 49.664v215.552c0 27.136 22.016 49.664 49.664 49.664h215.552c27.136 0 49.664-22.016 49.664-49.664V154.624c0-27.136-22.016-49.664-49.664-49.664H151.552zM874.496 473.088h-215.552c-56.832 0-103.424-46.592-103.424-103.424v-215.04c0-56.832 46.592-103.424 103.424-103.424h215.552c56.832 0 103.424 46.592 103.424 103.424v215.552c0 56.832-46.592 102.912-103.424 102.912z m-215.552-368.128c-27.136 0-49.664 22.016-49.664 49.664v215.552c0 27.136 22.016 49.664 49.664 49.664h215.552c27.136 0 49.664-22.016 49.664-49.664V154.624c0-27.136-22.016-49.664-49.664-49.664h-215.552zM367.104 975.36H151.552c-56.832 0-103.424-46.592-103.424-103.424v-215.552c0-56.832 46.592-103.424 103.424-103.424h215.552c56.832 0 103.424 46.592 103.424 103.424v215.552c0 57.344-46.592 103.424-103.424 103.424z m-215.552-368.128c-27.136 0-49.664 22.016-49.664 49.664v215.552c0 27.136 22.016 49.664 49.664 49.664h215.552c27.136 0 49.664-22.016 49.664-49.664v-215.552c0-27.136-22.016-49.664-49.664-49.664H151.552zM766.976 975.36c-116.224 0-210.944-94.72-210.944-210.944s94.72-210.944 210.944-210.944 210.944 94.72 210.944 210.944-94.72 210.944-210.944 210.944z m0-368.128c-86.528 0-157.184 70.656-157.184 157.184s70.656 157.184 157.184 157.184 157.184-70.656 157.184-157.184-70.656-157.184-157.184-157.184z"
          p-id="9492"></path>
      </svg>
      <div class="tips">工具</div>
    </div>


  </div>
</template>

<script setup>
import { ref } from "vue";
import { WebviewWindow } from '@tauri-apps/api/webviewWindow'

// 当前选中图标
const activeIcon = ref(null);
// 当前鼠标移入的图标
const hoverIcon = ref(null);
function createPerson() {
  const webview = new WebviewWindow('person', {
    url: '/person', 
    width: 400,   // Set the width of the window
    height: 600,  // Set the height of the window
    decorations: false,
    resizable: false, // Optionally, make the window resizable
    fullscreen: false, // Optionally, make the window fullscreen
  });

  // Since the webview window is created asynchronously,
  // Tauri emits the `tauri://created` and `tauri://error` to notify you of the creation response
  webview.once('tauri://created', function () {
    console.log('Webview window successfully created');
  });

  webview.once('tauri://error', function (e) {
    console.error('An error occurred during webview window creation', e);
  });
}
// 选中图标逻辑
const selectIcon = (icon) => {
  activeIcon.value = icon;
  if (icon == 'person') {
    createPerson()
  }
  console.log(icon)
};

// 根据图标状态获取颜色
const getIconColor = (icon) => {
  if (activeIcon.value === icon) return "#1296db"; // 选中状态：蓝色
  if (hoverIcon.value === icon) return "#8a8a8a"; // 移入状态：浅灰色
  return "#707070"; // 默认状态：灰色
};
</script>

<style scoped>
/* 栅格布局 */
.icons {
  display: flex;
  flex-direction: column;
  /* 竖直排列 */
  justify-content: space-between;
  /* 空间分配，前面的图标靠顶部，最后一个靠底部 */
  height: 650px;
  /* 让容器占满全屏高度 */
}

/* 每个图标的样式 */
.icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  /* 水平居中 */
  justify-content: center;
  /* 垂直居中 */
  margin-top: 30px;
}

.img {
  width: 50px;
  /* 图标宽度 */
  height: 50px;
  /* 图标高度 */
  background-color: #ccc;
  /* 设置一个背景颜色来模拟图标 */
  margin-bottom: 5px;
  /* 图标和文字之间的间距 */
}

.tips {
  text-align: center;
  font-size: 14px;
}

/* 使最后一个图标靠底部 */
.bottom {
  margin-top: auto;
  /* 将该图标推到容器底部 */
}
</style>
<style scoped>
/* 图标容器样式 */
.icons {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 650px;
}


/* 图标尺寸与动画 */
.icon-svg {
  width: 30px;
  height: 30px;
  transition: fill 0.3s, transform 0.3s;
}

/* 鼠标移入放大效果 */
.icon:hover .icon-svg {
  transform: scale(1.1);
}

/* 图标文字样式 */
.tips {
  text-align: center;
  font-size: 14px;
  margin-top: 3px;
}
</style>